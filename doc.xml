<?xml version="1.0" encoding="UTF-8"?>
<project name="Test-JsDoc" default="jsdoc" basedir=".">

    <property name="src.dir" location="${basedir}/js" />

    <property name="jsdoc.dir" location="${basedir}/build/jsdoc-toolkit/lib/jsdoc-toolkit/jsdoc_toolkit-2.4.0" />
    <property name="rhino.dir" location="${basedir}/build/jsdoc-toolkit/lib/rhino" />
    <property name="ant-task.dir" location="${basedir}/build/jsdoc-toolkit" />

    <property name="out.dir" location="${basedir}/doc" />

    <!-- Define the classpath for the Apache Ant task - needs Rhino as well. -->
    <path id="jsdoc.classpath">
        <pathelement path="${rhino.dir}/js-1.7r2.jar" />
        <pathelement path="${ant-task.dir}/jsdoc-toolkit-ant-task-1.1.2.jar" />
    </path>

    <!-- Define the Ant Task -->
    <taskdef name="jsdoctoolkit" classname="uk.co.darrenhurley.ant.tasks.JsDocToolkit" classpathref="jsdoc.classpath" />

    <!-- This is the default target - it generates the JsDoc documents -->
    <target name="jsdoc" depends="" description="Generate JsDoc.">
        <jsdoctoolkit jsdochome="${jsdoc.dir}/" template="jsdoc" outputdir="${out.dir}" includeprivate="true">
            <source file="${src.dir}/cache.js" />
            <source file="${src.dir}/config.js" />
		    <source file="${src.dir}/namespace.js" />
		    <source file="${src.dir}/pattern.js" />
		    <source file="${src.dir}/ready.js" />
		    <source file="${src.dir}/util.js" />
            <source file="${src.dir}/user.js" />
		    <source file="${src.dir}/app.js" />
        </jsdoctoolkit>
    </target>

    <!-- Neat and Tidy, Tidy and Neat - best to clean up afterwards... -->
    <target name="clean" description="Cleanup everything this build script creates.">
        <delete dir="${out.dir}" />
    </target>
</project>